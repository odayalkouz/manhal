/** * Created by Hussam Abu Khadijeh on 1/6/2016. */popupMouseMain=1;$(document).ready(function(){/**var evt         = new Event(),        dragdrop    = new Dragdrop(evt),        rg          = new RulersGuides(evt, dragdrop,document.getElementById('content-container1')); */    if(localStorage.hideEnrichments == 1)    {        $(".action").hide();    }    else    {        $('.action').show();    }    $(".popup-container").mouseenter(function(){        popupMouseMain = 1;    });    $(".popup-container").mouseleave(function(){        popupMouseMain = 0;    });    $(".popup-main-container").click(function(){        if(popupMouseMain == 0)        {            $("#action_container").html("");            $("#popup").fadeOut();            $("#action_containerb").html("");            $("#popup_action").fadeOut();        }    });    $(".close").click(function () {closePopup();    });    $(document).on("click",".doaction",function(){        html="";        switch ($(this).attr("actiontype")){            case "youtube":                html='<iframe width="100%" height="100%" src="https://www.youtube.com/embed/'+$(this).attr("data_src")+'" frameborder="0" allowfullscreen></iframe>';                $("#action_container").html(html);                $("#popup").fadeIn();                break;            case "sound":                id=$(this).closest(".element").attr("id");                selector="#audio_"+id;                if($(selector).length){                    $("#"+id).find("img").css("opacity","1");                    $(selector)[0].pause();                    $(selector).remove();                }else{                    $(".jq_audio").remove();                    $(".doaction[actiontype=sound] img").css("opacity","1");                    $("#"+id).find("img").css("opacity","0.5");                    Xid="'"+id+"'";                    html='<audio class="jq_audio" controls style="display: none;" id="audio_'+id+'" status="play" onended="removeAudio(this,'+Xid+');"><source src="'+$(this).attr("data_src")+'" type="audio/mpeg"></audio>';                    $("body").append(html);                    $(selector)[0].play();                }                break;            case "image":                html='<img src="'+$(this).attr("data_src")+'" style="width:100%;height: 100%">';                $("#action_container").html(html);                $("#popup").fadeIn();                break;            case "url":                html='<iframe width="100%" height="100%" src="'+$(this).attr("data_src")+'" frameborder="0"></iframe>';                $("#action_container").html(html);                $("#popup").fadeIn();                break;            case "quiz":                html='<iframe width="100%" height="100%" src="'+$(this).attr("data_src")+'" frameborder="0"></iframe>';                $("#action_container").html(html);                $("#popup").fadeIn();                break;        }    });});function removeAudio(e,id){    $("#"+id).find("img").css("opacity","1");    $(".jq_audio").remove();}