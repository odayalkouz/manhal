!function(){var e=this.SpriteLoader={};e.preload=function(t,i){"string"==typeof t&&(t=[t]);var n,o={callback:i,numLoaded:0,numImages:t.length,images:[]};for(n=0;n<t.length;n+=1)e.load(t[n],o)},e.load=function(e,t){var i=new Image;t.images.push(i),i.onload=function(){t.numLoaded+=1,t.numLoaded===t.numImages&&t.callback(t.images)},i.src=e}}(),function(e,t){var i=t.SpriteSpin={},n=i.api={};i.modules={},i.behaviors={},i.disableSelection=function(e){return e.attr("unselectable","on").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"}).on("selectstart",!1),e},i.updateInput=function(e,t){return void 0===e.touches&&void 0!==e.originalEvent&&(e.touches=e.originalEvent.touches),t.oldX=t.currentX,t.oldY=t.currentY,void 0!==e.touches&&e.touches.length>0?(t.currentX=e.touches[0].clientX,t.currentY=e.touches[0].clientY):(t.currentX=e.clientX,t.currentY=e.clientY),void 0!==t.startX&&void 0!==t.startY||(t.startX=t.currentX,t.startY=t.currentY,t.clickframe=t.frame),void 0!==t.oldX&&void 0!==t.oldY||(t.oldX=t.currentX,t.oldY=t.currentY),t.dX=t.currentX-t.startX,t.dY=t.currentY-t.startY,t.dW=t.dX*t.dragDirX+t.dY*t.dragDirY,t.ddX=t.currentX-t.oldX,t.ddY=t.currentY-t.oldY,t.ddW=t.ddX*t.dragDirX+t.ddY*t.dragDirY,!1},i.resetInput=function(e){e.startX=void 0,e.startY=void 0,e.currentX=void 0,e.currentY=void 0,e.oldX=void 0,e.oldY=void 0,e.dX=0,e.dY=0,e.dW=0,e.ddX=0,e.ddY=0,e.ddW=0,"function"==typeof e.module.resetInput&&e.module.resetInput(e)},i.clamp=function(e,t,i){return e>i?i:e<t?t:e},i.wrap=function(e,t,i,n){for(;e>i;)e-=n;for(;e<t;)e+=n;return e},i.reload=function(e,t){t&&e.module.initialize&&e.module.initialize(e),i.prepareBackground(e),i.preloadImages(e,function(){i.rebindEvents(e),e.module.reload(e),e.target.trigger("onLoad",e)})},i.preloadImages=function(e,t){e.preload.fadeIn(250,function(){SpriteLoader.preload(e.source,function(i){e.preload.fadeOut(250,function(){e.preload.hide()}),e.stage.show(),e.canvas&&e.canvas.show(),e.images=i,t.apply(e.target,[e])})})},i.prepareBackground=function(t){var i=[t.width,"px"].join(""),n=[t.height,"px"].join("");t.target.css({width:i,height:n,position:"relative"});var o={width:i,height:n,top:"0px",left:"0px",position:"absolute"};e.extend(o,t.preloadCSS||{}),t.preload.css(o).html(t.preloadHtml||"").hide(),t.stage.css({width:i,height:n,top:"0px",left:"0px",position:"absolute"}).hide(),t.canvas&&(t.canvas[0].width=t.width,t.canvas[0].height=t.height,t.canvas.css({width:i,height:n,top:"0px",left:"0px",position:"absolute"}).hide())},i.draw=function(e){e.module.draw(e)},i.rebindEvents=function(t){var n=t.target;n.unbind(".spritespin");var o=t.behavior;"string"==typeof t.behavior&&(o=i.behaviors[t.behavior]),o=o||{};var a=function(e){return e.cancelable&&e.preventDefault(),!1};n.bind("mousedown.spritespin",o.mousedown||e.noop),n.bind("mousemove.spritespin",o.mousemove||e.noop),n.bind("mouseup.spritespin",o.mouseup||e.noop),n.bind("mouseenter.spritespin",o.mouseenter||e.noop),n.bind("mouseover.spritespin",o.mouseover||e.noop),n.bind("mouseleave.spritespin",o.mouseleave||e.noop),n.bind("dblclick.spritespin",o.dblclick||e.noop),n.bind("onFrame.spritespin",o.onFrame||e.noop),t.touchable&&(n.bind("touchstart.spritespin",o.mousedown||e.noop),n.bind("touchmove.spritespin",o.mousemove||e.noop),n.bind("touchend.spritespin",o.mouseup||e.noop),n.bind("touchcancel.spritespin",o.mouseleave||e.noop),n.bind("click.spritespin",a),n.bind("gesturestart.spritespin",a),n.bind("gesturechange.spritespin",a),n.bind("gestureend.spritespin",a)),n.bind("mousedown.spritespin selectstart.spritespin",a),n.bind("onFrame.spritespin",function(e,t){i.draw(t)}),n.bind("onLoad.spritespin",function(e,t){t.target.spritespin("animate",t.animate,t.loop)}),"function"==typeof t.onFrame&&n.bind("onFrame.spritespin",t.onFrame),"function"==typeof t.onLoad&&n.bind("onLoad.spritespin",t.onLoad)},e.fn.spritespin=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.spritespin"):n.init.apply(this,arguments)},n.init=function(n){var o={width:void 0,height:void 0,frames:36,frame:0,module:"360",behavior:"drag",animate:!0,loop:!1,loopFrame:0,frameStep:1,frameTime:36,frameWrap:!0,reverse:!1,sense:1,orientation:"horizontal",source:void 0,preloadHtml:void 0,preloadCSS:void 0,onFrame:void 0,onLoad:void 0,touchable:void 0};return n=n||{},e.extend(o,n),this.each(function(){var a=e(this),r=a.data("spritespin");if(r)e.extend(r,n),n.source?SpriteSpin.reload(r):a.spritespin("animate",r.animate,r.loop);else{var s=a.find("img"),p=0;if(s.length>0)for(o.source=[],p=0;p<s.length;p+=1)o.source.push(e(s[p]).attr("src"));if("string"==typeof o.source&&(o.source=[o.source]),i.disableSelection(a).css({overflow:"hidden",position:"relative"}),a.empty(),a.append(e("<div class='spritespin-stage'/>")),a.append(e("<div class='spritespin-preload'/>")),a.addClass("spritespin-instance"),o.enableCanvas){var d=e("<canvas class='spritespin-canvas'/>")[0];!(!d.getContext||!d.getContext("2d"))&&(o.canvas=e(d),o.context=d.getContext("2d"),a.append(o.canvas))}"string"==typeof o.module&&(o.module=SpriteSpin.modules[o.module]),o.target=a,o.stage=a.find(".spritespin-stage"),o.preload=a.find(".spritespin-preload"),o.animation=null,o.touchable=o.touchable||/iphone|ipod|ipad|android/i.test(t.navigator.userAgent),a.data("spritespin",o),SpriteSpin.reload(o,!0)}})},n.destroy=function(){return this.each(function(){var t=e(this);t.unbind(".spritespin"),t.removeData("spritespin")})},n.update=function(t){return this.each(function(){var o=e(this).data("spritespin");void 0===t?o.frame+=o.animation&&o.reverse?-o.frameStep:o.frameStep:o.frame=t,o.animation||!o.animation&&o.frameWrap?o.frame=i.wrap(o.frame,0,o.frames-1,o.frames):o.frame=i.clamp(o.frame,0,o.frames-1),!o.loop&&o.animation&&o.frame===o.loopFrame&&n.animate.apply(o.target,[!1]),o.target.trigger("onFrame",o)})},n.animate=function(i,n){return void 0===i?null!==e(this).data("spritespin").animation:this.each(function(){var o=e(this),a=o.data("spritespin");"boolean"==typeof n&&(a.loop=n),"toggle"===i&&(a.animate=!a.animate),"boolean"==typeof i&&(a.animate=i),a.animation&&(t.clearInterval(a.animation),a.animation=null),a.animate&&(a.animation=t.setInterval(function(){try{o.spritespin("update")}catch(e){}},a.frameTime))})},n.frame=function(t){return void 0===t?e(this).data("spritespin").frame:this.each(function(){e(this).spritespin("update",t)})},n.loop=function(t){return void 0===t?e(this).data("spritespin").loop:this.each(function(){var i=e(this);i.spritespin("animate",i.data("spritespin").animate,t)})},n.next=function(){return this.each(function(){var t=e(this);t.spritespin("frame",t.spritespin("frame")+1)})},n.prev=function(){return this.each(function(){var t=e(this);t.spritespin("frame",t.spritespin("frame")-1)})},n.animateTo=function(t){return this.each(function(){e(this).spritespin({animate:!0,loop:!1,loopFrame:t})})},i.behaviors.none={name:"none",mousedown:e.noop,mousemove:e.noop,mouseup:e.noop,mouseenter:e.noop,mouseover:e.noop,mouseleave:e.noop,dblclick:e.noop,onFrame:e.noop}}(jQuery,window),function(e,t,i){i.behaviors.click={name:"click",mouseup:function(t){var n=e(this),o=n.data("spritespin");i.updateInput(t,o),n.spritespin("animate",!1);var a,r,s=o.target.offset();"horizontal"==o.orientation?(a=o.width/2,r=o.currentX-s.left):(a=o.height/2,r=o.currentY-s.top),r>a?(n.spritespin("frame",o.frame+1),o.reverse=!1):(n.spritespin("frame",o.frame-1),o.reverse=!0)}}}(jQuery,window,window.SpriteSpin),function(e,t,i){i.behaviors.drag={name:"drag",mousedown:function(t){var n=e(this).data("spritespin");i.updateInput(t,n),n.onDrag=!0},mousemove:function(t){var n=e(this),o=n.data("spritespin");if(o.onDrag){i.updateInput(t,o);var a=("horizontal"==o.orientation?o.dX/o.width:o.dY/o.height)*o.frames*o.sense,r=Math.round(o.clickframe+a);n.spritespin("update",r),n.spritespin("animate",!1)}},mouseup:function(t){var n=e(this).data("spritespin");i.resetInput(n),n.onDrag=!1},mouseleave:function(t){var n=e(this).data("spritespin");i.resetInput(n),n.onDrag=!1}}}(jQuery,window,window.SpriteSpin),function(e,t,i){i.behaviors.hold={name:"hold",mousedown:function(t){var n=e(this),o=n.data("spritespin");i.updateInput(t,o),o.onDrag=!0,n.spritespin("animate",!0)},mousemove:function(t){var n=e(this).data("spritespin");if(n.onDrag){i.updateInput(t,n);var o,a,r=n.target.offset();"horizontal"==n.orientation?(o=n.width/2,a=(n.currentX-r.left-o)/o):(o=n.height/2,a=(n.currentY-r.top-o)/o),n.reverse=a<0,a=a<0?-a:a,n.frameTime=80*(1-a)+20}},mouseup:function(t){var n=e(this),o=n.data("spritespin");i.resetInput(o),o.onDrag=!1,n.spritespin("animate",!1)},mouseleave:function(t){var n=e(this),o=n.data("spritespin");i.resetInput(o),o.onDrag=!1,n.spritespin("animate",!1)},onFrame:function(t){e(this).spritespin("animate",!0)}}}(jQuery,window,window.SpriteSpin),function(e,t,i){i.behaviors.swipe={name:"swipe",mousedown:function(t){var n=e(this).data("spritespin");i.updateInput(t,n),n.onDrag=!0},mousemove:function(t){var n=e(this),o=n.data("spritespin");if(o.onDrag){i.updateInput(t,o);var a,r,s=o.frame,p=o.snap||.25;"horizontal"==o.orientation?(a=o.dX,r=o.width*p):(a=o.dY,r=o.height*p),a>r?(s=o.frame-1,o.onDrag=!1):a<-r&&(s=o.frame+1,o.onDrag=!1),n.spritespin("update",s),n.spritespin("animate",!1)}},mouseup:function(t){var n=e(this).data("spritespin");n.onDrag=!1,i.resetInput(n)},mouseleave:function(t){var n=e(this).data("spritespin");n.onDrag=!1,i.resetInput(n)}}}(jQuery,window,window.SpriteSpin),function(e,t){var i=window.SpriteSpin.modules[360]={};i.reload=function(t){var n=e(t.images);t.stage.empty(),t.modopts={is_sprite:1==t.images.length,resX:t.resolutionX||t.images[0].width,resY:t.resolutionY||t.images[0].height,offX:t.offsetX||0,offY:t.offsetY||0,stepX:t.stepX||t.width,stepY:t.stepY||t.height,numFramesX:t.framesX||t.frames,oldFrame:t.frame,images:n},t.modopts.is_sprite||t.canvas||t.stage.append(n),n.css({width:t.modopts.resX,height:t.modopts.resY}),i.draw(t)},i.draw=function(e){e.modopts.is_sprite?i.drawSpritesheet(e):i.drawImages(e)},i.drawSpritesheet=function(e){var t=e.modopts,i=e.source[0],n=e.frame%t.numFramesX,o=e.frame/t.numFramesX|0,a=t.offX+n*t.stepX,r=t.offY+o*t.stepY;if(e.canvas)return e.context.clearRect(0,0,e.width,e.height),void e.context.drawImage(e.images[0],a,r,e.width,e.height,0,0,e.width,e.height);e.stage.css({width:[e.width,"px"].join(""),height:[e.height,"px"].join(""),"background-image":["url('",i,"')"].join(""),"background-repeat":"no-repeat","background-position":[-a,"px ",-r,"px"].join(""),"-webkit-background-size":[t.resX,"px ",t.resY,"px"].join("")})},i.drawImages=function(t){var i=t.images[t.frame];if(t.canvas)return t.context.clearRect(0,0,t.width,t.height),void t.context.drawImage(i,0,0);var n=t.stage.css({width:[t.width,"px"].join(""),height:[t.height,"px"].join("")}).children().hide()[t.frame];SpriteSpin.disableSelection(e(n)).show()}}(window.jQuery),function(e,t){var i=window.SpriteSpin.modules.gallery={};i.reload=function(t){t.images=[],t.offsets=[],t.stage.empty(),t.speed=500,t.opacity=.25,t.oldFrame=0;var i=0,n=0;for(n=0;n<t.source.length;n+=1){var o=e("<img src='"+t.source[n]+"'/>");t.stage.append(o),t.images.push(o),t.offsets.push(-i+(t.width-o[0].width)/2),i+=o[0].width,o.css({opacity:.25})}t.stage.css({width:i}),t.images[t.oldFrame].animate({opacity:1},t.speed)},i.draw=function(e){e.oldFrame!=e.frame&&e.offsets?(e.stage.stop(!0,!1),e.stage.animate({left:e.offsets[e.frame]},e.speed),e.images[e.oldFrame].animate({opacity:e.opacity},e.speed),e.oldFrame=e.frame,e.images[e.oldFrame].animate({opacity:1},e.speed)):e.stage.css({left:e.offsets[e.frame]+e.dX})},i.resetInput=function(e){e.onDrag||e.stage.animate({left:e.offsets[e.frame]})}}(jQuery),function(e,t){var i=window.SpriteSpin.modules.panorama={};i.reload=function(e){e.stage.empty();var t=e.modopts={};t.resX=e.resolutionX||e.images[0].width,t.resY=e.resolutionY||e.images[0].height,"horizontal"==e.orientation?t.frames=e.frames||t.resX:t.frames=e.frames||t.resY,i.drawFirst(e)},i.draw=function(e){var t,i,n=e.modopts;"horizontal"==e.orientation?(t=e.frame%n.frames,i=0):(t=0,i=e.frame%n.frames),e.stage.css({"background-position":[-t,"px ",-i,"px"].join("")})},i.drawFirst=function(e){var t,i,n=e.modopts;"horizontal"==e.orientation?(t=e.frame%n.frames,i=0):(t=0,i=e.frame%n.frames),e.stage.css({width:[e.width,"px"].join(""),height:[e.height,"px"].join(""),"background-image":["url('",e.source[0],"')"].join(""),"background-repeat":"repeat-both","background-position":[-t,"px ",-i,"px"].join(""),"-webkit-background-size":[n.resX,"px ",n.resY,"px"].join("")})}}(window.jQuery);